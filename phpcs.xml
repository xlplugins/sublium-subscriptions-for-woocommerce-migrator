<?xml version="1.0"?>
<ruleset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         name="WCSSubliumMigratorPluginCheck"
         xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/squizlabs/PHP_CodeSniffer/master/phpcs.xsd">

    <description>WCS Sublium Migrator - Comprehensive Plugin Check Standards</description>

	<!-- Include WordPress.org Plugin Review Standards (which includes plugin-check.ruleset.xml) -->
    <rule ref="./bin/phpcs-rulesets/plugin-review.xml" />

    <!-- Include Core Plugin Check Rules (plugin-check.ruleset.xml) -->
    <rule ref="./bin/phpcs-rulesets/plugin-check.ruleset.xml" />

    <!-- Include Enhanced Sublium Rules -->
    <rule ref="./bin/phpcs-rulesets/sublium-enhanced.xml" />

    <!-- Custom Sublium Sniffs (includes DirectDB with detailed errors) -->
    <rule ref="./bin/phpcs-rulesets/Sublium_WCS/ruleset.xml" />

    <!-- Enable and configure TextDomainMismatch rule -->
    <rule ref="WordPress.WP.I18n">
        <properties>
            <property name="text_domain" type="array">
                <element value="wcs-sublium-migrator"/>
            </property>
        </properties>
    </rule>

    <!-- Enforce prefix for all global variables, functions, constants, etc. -->
    <rule ref="WordPress.NamingConventions.PrefixAllGlobals">
        <properties>
            <property name="prefixes" type="array">
                <element value="wcs_sublium_migrator"/>
                <element value="WCS_SUBLIUM_MIGRATOR"/>
                <element value="wcs_sublium"/>
            </property>
        </properties>
    </rule>

    <!-- WCS Sublium Migrator specific exclusions -->
    <exclude-pattern>assets/*</exclude-pattern>
    <exclude-pattern>docs/*</exclude-pattern>
    <exclude-pattern>bin/*</exclude-pattern>
    <exclude-pattern>node_modules/*</exclude-pattern>
    <exclude-pattern>tests/*</exclude-pattern>

    <!-- Exclude CSS/JS files to avoid deprecation warnings -->
    <exclude-pattern>*.css</exclude-pattern>
    <exclude-pattern>*.js</exclude-pattern>
    <exclude-pattern>*.scss</exclude-pattern>
    <exclude-pattern>*.sass</exclude-pattern>
    <exclude-pattern>*.less</exclude-pattern>

    <!-- Exclude file naming rule - project uses descriptive names without class- prefix -->
    <rule ref="WordPress.Files.FileName">
        <exclude name="WordPress.Files.FileName.InvalidClassFileName"/>
    </rule>

</ruleset>
